{% from 'components/view/components/view-section-table-row/macro.njk' import viewSectionTableRow %}
{% from 'components/view/components/view-data-title/macro.njk' import viewDataTitle %}
{% from 'components/view/components/view-data-link/macro.njk' import viewDataLink %}
{% from 'components/view/components/view-data-text/macro.njk' import viewDataText %}
{% from 'components/view/components/view-section-heading/macro.njk' import viewSectionHeading %}

{% macro viewSolutionDescription(params) %}
  {% if params.section %}
    <div class="nhsuk-width-container" data-test-id="view-solution-description">
      {{ viewSectionHeading({ text: 'Description' }) }}
      <div class="nhsuk-u-padding-left-3 nhsuk-u-padding-right-3">
          {% if params.section.answers.summary %}
            {{ viewSectionTableRow({
              questionId: 'summary',
              questionTitle: 'Summary',
              layout: 'vertical',
              innerComponent: viewDataText({
                dataTestId: 'view-question-data-text-summary',
                data: params.section.answers.summary
              })
            }) }}
          {% endif %}
          {% if params.section.answers.description or params.section.answers.link %}
            {{ viewSectionTableRow({
              questionId: 'description',
              questionTitle: 'Full description',
              layout: 'vertical',
              innerComponent: viewDataText({
                dataTestId: 'view-question-data-text-description',
                data: params.section.answers.description
              }) + viewDataLink({
                dataTestId: 'view-question-data-link',
                data: params.section.answers.link
              })
            }) }}
          {% endif %}
      </div>

    </div>
  {% endif %}
{% endmacro %}
